@defer {
  <p-toolbar styleClass="mb-6">
    <ng-template #start>
      <p-button label="Create" icon="pi pi-plus" (onClick)="createCompany()" />
    </ng-template>

  </p-toolbar>


  <div class="card">

    <p-dataview #dv [value]="companies()" [layout]="layout">
      <ng-template #header>
        box search
      </ng-template>
      <ng-template #grid let-items>
        <div class="grid grid-cols-12 gap-4">
          <div *ngFor="let item of items" class="col-span-12 sm:col-span-6 md:col-span-4 xl:col-span-6 p-2">
            <div
              class="p-1 border border-surface-200 dark:border-surface-700 bg-surface-0 dark:bg-surface-900 rounded flex flex-col"
            >
              <div class="bg-surface-50 flex justify-center rounded p-4">
                <div class="relative mx-auto">
                  <app-map [data]="item" [layout]="layout"></app-map>

                </div>
              </div>
              <div class="pt-6">
                <div class="flex flex-row justify-between products-start gap-2">
                  <div>
                  <span class="font-medium text-surface-500 dark:text-surface-400 text-sm">
                    {{ item.location }}, {{ item.postalCode }}</span>
                    <div class="text-lg font-medium mt-1">{{ item.name }}</div>
                  </div>
                </div>
                  <div class="flex-shrink-0">
                    <p-button
                      pRipple
                      icon="pi pi-pencil"
                      class="p-button-text"
                      (click)="updateCompany(item)"
                    ></p-button>
                    <p-button
                      pRipple
                      icon="pi pi-trash"
                      class="ml-2 p-button-text"
                      (click)="deleteCompany(item.id)"
                    ></p-button>
                  </div>

              </div>
            </div>
          </div>
        </div>
      </ng-template>

    </p-dataview>

  </div>


  <app-location-dialog [(visible)]="isDialogVisible" [company]="selectedCompany()" (refreshData)="refreshData()"></app-location-dialog>
} @placeholder {
  <p>In caricamento</p>
}
